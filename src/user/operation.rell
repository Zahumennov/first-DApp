operation create_user(name, pubkey) {
    require(name.size() <= 15, "User name cannot be longer than 20 letters");
    create user( name = name, id = pubkey );
}


operation top_up_user_balance(id: byte_array, amount: integer) {
  val adminPubkey = chain_context.args.admin_pubkey;
  require(op_context.is_signer(adminPubkey), "Only admin can top up the balance");
  
  update user @ { .id == id }( .balance += amount );
}